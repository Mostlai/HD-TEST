(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{148:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(2),a=n(79);const s=(t,e,n)=>{if(!r.c.state.exists(e))return;let a=t[e];t[e]=a?a+n:n},i=t=>{let e=t.level,n={gold:100*Math.ceil(Math.pow(e,1.7))};return t.kind&&l(t.kind,n,e),t.biome&&l(t.biome,n,e),t.regen&&s(n,"bloodgem",5*Object(a.c)(e)),n},l=(t,e={},n=1)=>{if(t){t=Object(a.b)(t);let r=Object(a.d)(t,n);s(e,r,n-Object(a.f)(n)+1)}else if(Array.isArray(t))for(let r=t.length-1;r>=0;r--)t[r]&&l(t[r],e,n);return e},o=t=>{var e={};for(let r=t.length-1;r>=0;r--){var n=t[r];e.gold=(e.gold||0)+300*n.level,c(n.school,n.level,e)}return e},c=(t,e=1,n={})=>{if(Array.isArray(t))for(let r=t.length-1;r>=0;r--)c(t[r],e,n);else null!=t&&(s(n,t+"gem",Math.min(e,5)*e),e<=5?s(n,"codices",e):s(n,"tomes",e=5));return n}},149:function(t,e,n){var r=n(205);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(20)(r,a);r.locals&&(t.exports=r.locals)},204:function(t,e,n){"use strict";var r=n(149);n.n(r).a},205:function(t,e,n){(e=n(19)(!1)).push([t.i,"\ntr .table-head[data-v-28e20fbc] {\n\tcursor: pointer;\n\ttext-decoration: underline;\n\tuser-select: none;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n}\ndiv.bestiary[data-v-28e20fbc] {\ndisplay:flex;\nflex-direction: column;\nmargin-left:0.9em;\npadding:0;\nmargin:0;\n}\n.char-list[data-v-28e20fbc] {\n\twidth:100%;\n\tpadding: 0; margin: 0;\n\toverflow-y:auto;\n\tmargin-bottom:1rem;\n}\ntable.bestiary[data-v-28e20fbc] {\n\tborder-spacing: var(--sm-gap) 0;\n\tborder-collapse: collapse;\n\trow-gap: var(--sm-gap);\n\tcolumn-gap: var(--md-gap);\n}\ntr:first-child .table-head[data-v-28e20fbc] {\n\tborder-bottom: 1pt solid black;\n\tmargin:var(--sm-gap);\n}\n.table-head[data-v-28e20fbc] {\n\tpadding: var(--sm-gap) var(--md-gap);\n}\ntd.num-align[data-v-28e20fbc] {\n\tpadding: var(--md-gap);\n}\n\n",""]),t.exports=e},254:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bestiary"},[n("filterbox",{attrs:{items:t.allItems,"min-items":"14"},model:{value:t.filtered,callback:function(e){t.filtered=e},expression:"filtered"}}),t._v(" "),n("div",{staticClass:"char-list"},[n("table",{staticClass:"bestiary"},[n("tr",[n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("name")}}},[t._v("Creature")]),t._v(" "),n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("level")}}},[t._v("Level")]),t._v(" "),n("th",{staticClass:"table-head",on:{click:function(e){return t.setSort("value")}}},[t._v("Slain")]),t._v(" "),n("th",{staticClass:"num-align table-head",on:{click:function(e){return t.setSort("hp")}}},[t._v("Hp")])]),t._v(" "),t._l(t.sorted,(function(e){return n("tr",{key:e.id,on:{"!mouseenter":function(n){return n.stopPropagation(),t.itemOver(n,e)}}},[n("th",{staticClass:"lg-name"},[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(Math.floor(e.level)))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(Math.floor(e.value)))]),t._v(" "),n("td",{staticClass:"num-align"},[t._v(t._s(t.showHp(e)?t.toNum(e.hp):"???"))]),t._v(" "),n("td",[n("button",{attrs:{disabled:e.unique||!e.canUse(t.game)||0==t.minions.freeSpace()},on:{click:function(n){return t.tryUse(e)}}},[t._v("Buy")])])])}))],2)])],1)};r._withStripped=!0;var a=n(2),s=n(21),i=(n(23),n(76)),l=n(1),o=n(148),c=n(0),d=n(79),u={mixins:[s.a],data:()=>({filtered:null,sortBy:"level",sortOrder:1,loreLevels:{}}),components:{filterbox:i.a},beforeCreate(){this.game=a.c},methods:{tryUse(t){this.emit(l.K,t)},loreLevel(t){let e=this.loreLevels[t.kind];return void 0===e&&(e=this.$set(this.loreLevels,t.kind,Object(d.a)(t.kind,a.c))),e},showHp(t){return this.loreLevel(t)>=4*t.level},toNum:t=>("object"==typeof t?t.type===c.G?t.max:t.value:t).toFixed(0),setSort(t){this.sortBy===t?this.sortOrder=-this.sortOrder:this.sortBy=t}},computed:{minions:()=>a.c.state.minions,allItems(){let t=a.c.state.monsters;for(let e=t.length-1;e>=0;e--)t[e].name=t[e].name.toTitleCase();var e=[];for(let r=t.length-1;r>=0;r--){var n=t[r];n.value<=0||(n.cost||this.$set(n,"cost",Object(o.a)(n)),e.push(n))}return e},sorted(){let t,e,n=this.sortBy,r=this.sortOrder;return(this.filtered||this.allItems).sort((a,s)=>(t=a[n],e=s[n],t>e?r:e>t?-r:0))}}},v=(n(204),n(6)),m=Object(v.a)(u,r,[],!1,null,"28e20fbc",null);m.options.__file="src/ui/sections/bestiary.vue";e.default=m.exports}}]);